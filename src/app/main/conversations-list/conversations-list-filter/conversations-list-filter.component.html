<!-- date picker -->
<div class="row">
  <div class="col">
    <mat-form-field>
      <input matInput [matDatepicker]="pickerFrom" placeholder="From" [formControl]="dateFrom">
      <mat-datepicker-toggle matSuffix [for]="pickerFrom"></mat-datepicker-toggle>
      <mat-datepicker #pickerFrom></mat-datepicker>
    </mat-form-field>
  </div>
  <div class="col">
    <mat-form-field>
      <input matInput [matDatepicker]="pickerTo" placeholder="To" [formControl]="dateTo">
      <mat-datepicker-toggle matSuffix [for]="pickerTo"></mat-datepicker-toggle>
      <mat-datepicker #pickerTo></mat-datepicker>
    </mat-form-field>
  </div>
</div>

<div class="row no-gutters my-2">
  <!-- type options -->
  <div class="col-auto mr-2">
    <ss-multiselect-dropdown [settings]="typeSettings" [texts]="typeTexts" [options]="typeOptions" [(ngModel)]="typeSelect" (ngModelChange)="updateTypes()"></ss-multiselect-dropdown>
  </div>
  <div class="col-auto mr-2 font-primary">
    <span>Search by: </span>
  </div>
  <div class="col font-primary">
    <mat-radio-group [(ngModel)]="searchById" (change)="updateSearchById()">
      <mat-radio-button [value]="false">Filter </mat-radio-button>
      <mat-radio-button [value]="true">ID</mat-radio-button>
    </mat-radio-group>
  </div>
</div>

<mat-divider></mat-divider>

<!-- list filters -->
<div *ngIf="!searchById" class="row no-gutters my-2">
  <div class="col">
    <ss-multiselect-dropdown [settings]="listSettings" [texts]="listSkillsTexts" [options]="list.skills" [(ngModel)]="skillsSelect"></ss-multiselect-dropdown>
    <ss-multiselect-dropdown [settings]="listSettings" [texts]="listGroupsTexts" [options]="list.groups" [(ngModel)]="groupsSelect"></ss-multiselect-dropdown>
    <ss-multiselect-dropdown (dropdownOpened)="loadListAgents()" (onFilter)="loadListAgents($event)" [settings]="listSettingsAgent"
      [texts]="listAgentsTexts" [options]="listAgents" [(ngModel)]="agentsSelect"></ss-multiselect-dropdown>
  </div>
</div>

<div class="row no-gutters mt-2">

  <div class="col">
    <div class="input-group">
      <!-- id options -->
      <ss-multiselect-dropdown *ngIf="searchById" [settings]="idSettings" [texts]="filterTexts" [options]="idOptions" [(ngModel)]="idSelect"
        (ngModelChange)="updateIds()"></ss-multiselect-dropdown>
      <!-- filter options -->
      <ss-multiselect-dropdown *ngIf="!searchById && typeSelect.indexOf('conversations') !== -1" [settings]="searchSettings" [texts]="filterTexts"
        [options]="filterOptions" [(ngModel)]="filterSelect" (ngModelChange)="getData()"></ss-multiselect-dropdown>
      <!-- keyword options -->
      <ss-multiselect-dropdown *ngIf="!searchById" [settings]="searchSettings" [texts]="searchTexts" [options]="searchOptions"
        [(ngModel)]="searchSelect" (ngModelChange)="getData()"></ss-multiselect-dropdown>
      <!-- keyword search -->
      <input [disabled]="!searchSelect.length" type="text" class="form-control form-control-sm" name="searchInput" [(ngModel)]="searchKeyword"
        (keyup.enter)="getData()" [placeholder]="searchById ? 'Enter ID' : 'Enter keywords...'">
      <!-- search button -->
      <span class="input-group-btn">
        <button [disabled]="!searchKeyword && searchById" type="button" class="btn btn-outline-success btn-sm" (click)="getData()"
          [disabled]="loading">{{loading ? 'Loading...' : 'Search'}}</button>
      </span>
    </div>
  </div>
</div>
