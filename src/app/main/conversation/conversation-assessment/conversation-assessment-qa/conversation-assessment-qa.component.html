<div class="card" [class.loading-opacity]="assessmentState.loading">
  <div class="card-body">
    <div class="row justify-content-between">
      <h5 class="card-title col-auto">Quality Review</h5>
      <h5 class="card-title text-muted col-auto">Score {{calculateTotalScore(assessmentSelect.qa) | percent}}</h5>
    </div>
    <div id="qa-container">
      <ng-container *ngFor="let group of assessmentSelect.qa; let first = first; let last = last; trackBy: trackByFn">
        <div class="row no-gutters row-header p-2 pt-3" (click)="group.expanded = !group.expanded">
          <div [hidden]="group.expanded" class="col-auto font-primary mr-2">
            <i class="far fa-chevron-up"></i>
          </div>
          <div [hidden]="!group.expanded" class="col-auto font-primary mr-2">
            <i class="far fa-chevron-down"></i>
          </div>
          <div class="col font-primary">
            {{group.title}}
          </div>
          <div class="col-auto font-secondary">
            {{calculateGroupScore(group) | percent}}
          </div>
        </div>
        <ng-container *ngFor="let item of group.section; trackBy: trackByFn">
          <div *ngIf="group.expanded" class="row no-gutters row-content">
            <div class="col pl-2 mt-2 pt-1 font-secondary">
              {{item.label}}
            </div>
            <div class="col-auto font-primary">
              <span class="font-secondary">{{item.score === 0 ? 'N/A' : ''}}</span> <mat-slider min="0" max="5" step="1" thumbLabel [(ngModel)]="item.score" (change)="saveReview()"></mat-slider>
            </div>
          </div>
        </ng-container>
      </ng-container>
    </div>
  </div>
</div>
