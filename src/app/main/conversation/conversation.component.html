<div class="container-fluid">
  <div class="row mt-2">
    <div class="col">
      <app-conversation-playlist [playlistState]="(playlistState$ | async)" [playlistIds]="(playlistIds$ | async)" [playlistSelect]="(playlistSelect$ | async)"></app-conversation-playlist>
    </div>
  </div>
  <div class="row no-gutters mt-2">

    <!-- Conversation view -->
    <div *ngIf="(conversationSelect$ | async)" class="col-12 col-md-5 pr-md-2">
      <div class="row no-gutters">
        <app-conversation-stats [conversationSelect]="(conversationSelect$ | async)"></app-conversation-stats>
      </div>
      <div class="row no-gutters pt-2">
        <app-conversation-messages [conversationState]="(conversationState$ | async)" [conversationIds]="(conversationIds$ | async)" [conversationPlaylistIds]="(conversationPlaylistIds$ | async)" [conversationSelect]="(conversationSelect$ | async)"></app-conversation-messages>
      </div>
    </div>

    <!-- No results -->
    <div *ngIf="!(conversationSelect$ | async)" class="col-12 col-md-5 pr-md-2">
      <div class="card no-assessment" id="no-results-container">
        <app-no-results *ngIf="!(conversationState$ | async).loading" messageSecondary="No conversation selected"></app-no-results>
        <app-loading-results *ngIf="(conversationState$ | async).loading" messagePrimary="Loading your conversation..."></app-loading-results>
      </div>
    </div>

    <!-- Assessment view -->
    <div class="col-12 col-md-7 mt-2 mt-md-0">
      <div class="row no-gutters">
        <app-conversation-assessment [assessmentState]="(assessmentState$ | async)" [assessmentSelect]="(assessmentSelect$ | async)"></app-conversation-assessment>
      </div>
    </div>
  </div>
</div>
